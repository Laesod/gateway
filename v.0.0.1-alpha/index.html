<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2015-11-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Gateway &#x2013; </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20151126" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                        <img src="http://www.driverscape.com/images/brand/gateway.png" alt="Gateway" />
                </a>
                          <div id="bannerRight">
                                        <img src="http://programcode.wdfiles.com/local--files/start/wiki-logo-150.png" alt="Gateway" />
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-11-26</span>
                  &nbsp;| <span id="projectVersion">Version: 0.0.2-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                                        <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
            </li>
                      <li class="none">
                          <a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
                      <li class="none">
                          <a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                      <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                      <li class="none">
                          <a href="integration.html" title="Continuous Integration">Continuous Integration</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Project Plugins">Project Plugins</a>
            </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="dependency-management.html" title="Dependency Management">Dependency Management</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Project Summary">Project Summary</a>
            </li>
                      <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <p># gateway</p>
<p><a class="externalLink" href="https://travis-ci.org/Laesod/gateway"><img src="https://travis-ci.org/Laesod/gateway.svg?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://github.com/Laesod/gateway/blob/master/LICENSE">![License](http://img.shields.io/:license-apache 2.0-blue.svg)</a></p>
<p>The goal of this project is to have a &#x201c;common&#x201d; seed for spring based application that enables authentication flows (sign up, login, reset password, change password etc), security (role based, project based, user group based), common features (like localization, entity version tracking etc). It contains angular 1.x UI portion that is using angular material library (<a class="externalLink" href="https://material.angularjs.org/latest/">https://material.angularjs.org/latest/</a>) and contains typical public views like sign up, login, reset password etc. UI application is based on gulp-browserify boilerplate for angularjs (read here for more details: <a class="externalLink" href="https://github.com/jakemmarsh/angularjs-gulp-browserify-boilerplate)">https://github.com/jakemmarsh/angularjs-gulp-browserify-boilerplate)</a>.</p>
<p>Project is initially configured to be used along with mainUi-seed application (initial private portion of the &#x201c;common&#x201d; web application).</p>
<p>Prerequisites:</p>

<div class="source">
<div class="source">
<pre>- You have mainUi-seed application up and running (after login you should be redirected to this project)
</pre></div></div>
<p>In order to start the project please follow the steps:</p>

<div class="source">
<div class="source">
<pre>- Make sure that you have MySQL db running locally on default port (user: root, password: 'gateway');
- Create db with name gateway. This database will be initialized by the application on the run time. 
Two initial users will be added:'admin@gmail.com' and 'user@gmail.com' both with password 'admin'. admin@gmail.com will be assigned to roles ROLE_ADMIN and ROLE_USER, user@gmail.com will be assigned to the role ROLE_USER (check db_initializer.sql in resources for more details). Passwords will be stored in DB in encoded mode.
</pre></div></div>
<p>In command line navigate to gateway folder and execute:</p>

<div class="source">
<div class="source">
<pre>- npm i; (will install npm packages dependencies)
- bower i; (will install js dependencies)
- gulp prod; (will produce build folder with final app that should be ready for use)
</pre></div></div>
<p>Open another command line, navigate to gateway folder and execute (previous terminal should be open): </p>

<div class="source">
<div class="source">
<pre>- mvn clean install
- mvn spring-boot:run
</pre></div></div>
<p>To generate site reports run ( result will be available in target/site/index.html ):</p>

<div class="source">
<div class="source">
<pre>- mvn clean install site
</pre></div></div>
<p>Unit tests and integration tests will be executed. Embedded mail server will be started during integration test and stopped after tests finished. During development optionally mail server can be run manually. It can be an embedded mvn mailserver plugin (that can be run by mvn emailserver:run in separate console) or a separate application (for example Papercut at <a class="externalLink" href="https://github.com/jaben/papercut)">https://github.com/jaben/papercut)</a>. In order to skip the tests during compilation use mvn clean install -DskipTests. Now you can try to access localhost:2000/gateway. Note that for spring application URL context path /gateway is specified (needed for deployment on production environment and being served by proxy based on url paths)</p>
<p>For testing purposes use user/password created by db_initializer.sql script.</p>
<p>To speed up UI development next approach is supported:</p>
<p>After starting spring application in command line navigate to gateway folder and execute &#x201c;gulp dev&#x201d; (will prepare UI that is ready to be served by web server without URL context path). In another terminal navigate to gateway/src/main/public and start npm live-server on port 1000 by executing &#x201c;live-server &#x2013;port=1000&#x201d; (can be any other web server but used port should be 1000 or 1001 though). UI application should be available now at localhost:1000 and can be updated in &#x201c;live&#x201d; mode. Served this way UI application should be able to access services from spring application (except login service).</p>
<p>Features that can be found in the project:</p>

<div class="source">
<div class="source">
<pre>- Spring security used based on cookies

- Remember me feature (no login needed for two months);

- Request input data validation (validation result will be returned with details per attribute - can be used to display field validation in UI for each item of the form)

- UI form items validation based on BE request input data validation

- Backend/UI Localization enabled (based on cookie appLanguage - cookie will stay valid for one month). I.e. request input validation results will be returned with respect of the current language.

- Rest end point unit test examples 

- Profiling example (different db source settings based on application.properties profile value (development/prod/test));

- Spring based audit mechanism (automatic population of the fields CreatedBy, ModifiedBy, CreatedAt, LastModifiedAt);

- Transactional way of execution of the operations relevant for db modifications;

- Concurrent entity modification locking (prevent data from been overwritten if changed between read/write operation);

- Hibernate envers enabled (read more here: http://docs.jboss.org/envers/docs/). That gives possibility to track entity modifications at individual field level (for test purposes activated for userEntity);

- Multilanguage support(as many languages as needed) for db fields (as example check description field for ProjectEntity);
</pre></div></div>
<p>General notes:</p>

<div class="source">
<div class="source">
<pre>- for email account that will be used as a sender turn on action should be done here (in case of gmail account): https://www.google.com/settings/security/lesssecureapps
- example of shell script for jenkins to start the app on production server:
</pre></div></div>
<p>sudo bower install &#x2013;allow-root sudo gulp prod sudo mvn clean install -DskipTests echo &#x201c;sudo mvn spring-boot:run -Dspring.profiles.active=prod&#x201d; | at now + 1 minutes </p>
<div class="section">
<h2><a name="License"></a>License</h2>
<p>Licensed under the <a class="externalLink" href="https://github.com/Laesod/gateway/blob/master/LICENSE">Apache 2.0 license</a>.</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2015
                        <a href="http://powered-by-sergey.wikidot.com">Powered by Sergey</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
